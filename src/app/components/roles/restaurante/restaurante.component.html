<div class="container mt-4">
  <!-- Formulario para crear nuevo restaurante -->
  <div class="card mb-4">
    <div class="card-header">
      <h2>Crear Nuevo Restaurante</h2>
    </div>
    <div class="card-body">
      <form [formGroup]="restauranteForm" (ngSubmit)="crearRestaurante()">
        <div class="form-group">
          <label for="nombre">Nombre</label>
          <input type="text" class="form-control" id="nombre" formControlName="nombre" required>
        </div>
        <div class="form-group">
          <label for="direccion">Dirección</label>
          <input type="text" class="form-control" id="direccion" formControlName="direccion" required>
        </div>
        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <input type="text" class="form-control" id="telefono" formControlName="telefono" required>
        </div>
        <div class="form-group">
          <label for="tipoCocina">Tipo de Cocina</label>
          <input type="text" class="form-control" id="tipoCocina" formControlName="tipoCocina">
        </div>
        <div class="form-group">
          <label for="capacidadPersonas">Capacidad de Personas</label>
          <input type="number" class="form-control" id="capacidadPersonas" formControlName="capacidadPersonas">
        </div>
        <div class="form-group">
          <label for="horarioFuncionamiento">Horario de Funcionamiento</label>
          <input type="text" class="form-control" id="horarioFuncionamiento" formControlName="horarioFuncionamiento">
        </div>
        <div class="form-group">
          <label for="estado">Estado</label>
          <select class="form-control" id="estado" formControlName="estado">
            <option value="true">Activo</option>
            <option value="false">Inactivo</option>
          </select>
        </div>
        <div class="form-group">
          <label for="docid">ID del Gestor</label>
          <input type="text" class="form-control" id="docid" formControlName="docid">
        </div>
        <div class="form-group">
          <label for="imagenRestaurante">Imagen del Restaurante (URL)</label>
          <input type="text" class="form-control" id="imagenRestaurante" formControlName="imagenRestaurante">
        </div>
        <button type="submit" class="btn btn-primary">Crear Restaurante</button>
      </form>
    </div>
  </div>

  <!-- Mostrar el restaurante creado -->
  <div *ngIf="restauranteCreado" class="card mb-4">
    <div class="card-header">
      <h2>Detalles del Restaurante Creado</h2>
    </div>
    <div class="card-body">
      <p><strong>Nombre:</strong> {{ restauranteCreado.nombre }}</p>
      <p><strong>Dirección:</strong> {{ restauranteCreado.direccion }}</p>
      <p><strong>Teléfono:</strong> {{ restauranteCreado.telefono }}</p>
      <p><strong>Tipo de Cocina:</strong> {{ restauranteCreado.tipoCocina }}</p>
      <p><strong>Capacidad de Personas:</strong> {{ restauranteCreado.capacidadPersonas }}</p>
      <p><strong>Horario de Funcionamiento:</strong> {{ restauranteCreado.horarioFuncionamiento }}</p>
      <p><strong>Estado:</strong> {{ restauranteCreado.estado ? 'Activo' : 'Inactivo' }}</p>
      <p><strong>ID del Gestor:</strong> {{ restauranteCreado.docid }}</p>
      <p><strong>Imagen del Restaurante:</strong> {{ restauranteCreado.imagenRestaurante }}</p>
    </div>
  </div>

  <!-- Listado de restaurantes -->
  <div class="card mb-4">
    <div class="card-header">
      <h2>Lista de Restaurantes</h2>
    </div>
    <div class="card-body">
      <!-- Filtros y búsqueda -->
      <div class="row mb-3">
        <div class="col-md-3">
          <input type="text" class="form-control" placeholder="Buscar por nombre..." [(ngModel)]="filtroNombre">
        </div>
        <div class="col-md-3">
          <input type="text" class="form-control" placeholder="Buscar por dirección..." [(ngModel)]="filtroDireccion">
        </div>
        <div class="col-md-3">
          <input type="text" class="form-control" placeholder="Buscar por tipo de cocina..." [(ngModel)]="filtroTipoCocina">
        </div>
        <div class="col-md-3">
          <select class="form-control" [(ngModel)]="filtroEstado">
            <option value="">Todos</option>
            <option value="true">Activos</option>
            <option value="false">Inactivos</option>
          </select>
        </div>
      </div>

      <!-- Tabla de restaurantes -->
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Dirección</th>
            <th>Teléfono</th>
            <th>Tipo de Cocina</th>
            <th>Capacidad</th>
            <th>Horario</th>
            <th>Estado</th>
            <th>ID del Gestor</th>
            <th>Imagen del Restaurante</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let restaurante of filtrarRestaurantes(); let i = index;">
            <td>{{ restaurante.nombre }}</td>
            <td>{{ restaurante.direccion }}</td>
            <td>{{ restaurante.telefono }}</td>
            <td>{{ restaurante.tipoCocina }}</td>
            <td>{{ restaurante.capacidadPersonas }}</td>
            <td>{{ restaurante.horarioFuncionamiento }}</td>
            <td>{{ restaurante.estado ? 'Activo' : 'Inactivo' }}</td>
            <td>{{ restaurante.docid }}</td>
            <td>{{ restaurante.imagenRestaurante }}</td>
            <td>
              <button class="btn btn-warning btn-sm" (click)="editarRestaurante(restaurante)">Editar</button>
              <button class="btn btn-danger btn-sm" (click)="desactivarRestaurante(restaurante)" *ngIf="restaurante.estado">Desactivar</button>
              <button class="btn btn-success btn-sm" (click)="restaurarRestaurante(restaurante)" *ngIf="!restaurante.estado">Restaurar</button>
              <button class="btn btn-info btn-sm" (click)="verRestaurante(restaurante)">Ver Restaurante</button>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Detalles del restaurante seleccionado -->
      <div *ngIf="restauranteSeleccionado" class="card mb-4">
        <div class="card-header">
          <h2>Detalles del Restaurante</h2>
        </div>
        <div class="card-body">
          <p><strong>Nombre:</strong> {{ restauranteSeleccionado.nombre }}</p>
          <p><strong>Dirección:</strong> {{ restauranteSeleccionado.direccion }}</p>
          <p><strong>Teléfono:</strong> {{ restauranteSeleccionado.telefono }}</p>
          <p><strong>Tipo de Cocina:</strong> {{ restauranteSeleccionado.tipoCocina }}</p>
          <p><strong>Capacidad de Personas:</strong> {{ restauranteSeleccionado.capacidadPersonas }}</p>
          <p><strong>Horario de Funcionamiento:</strong> {{ restauranteSeleccionado.horarioFuncionamiento }}</p>
          <p><strong>Estado:</strong> {{ restauranteSeleccionado.estado ? 'Activo' : 'Inactivo' }}</p>
          <p><strong>ID del Gestor:</strong> {{ restauranteSeleccionado.docid }}</p>
          <p><strong>Imagen del Restaurante:</strong> {{ restauranteSeleccionado.imagenRestaurante }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
